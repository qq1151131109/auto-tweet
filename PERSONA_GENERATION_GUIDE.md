# äººè®¾ç”Ÿæˆå‚æ•°é…ç½®æŒ‡å—

## ğŸ“‹ å‚æ•°æ¦‚è§ˆ

äººè®¾ç”Ÿæˆä½¿ç”¨ `--generate-persona` æ¨¡å¼ï¼Œä»ä¸€å¼ å›¾ç‰‡ç”Ÿæˆå®Œæ•´çš„ AI äººè®¾ï¼ˆ7ä¸ªé˜¶æ®µï¼‰ã€‚

## ğŸ”§ å¿…éœ€å‚æ•°

### 1. API å¯†é’¥é…ç½®

**æ–¹å¼ä¸€ï¼šä½¿ç”¨ .env æ–‡ä»¶ï¼ˆæ¨èï¼‰**

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š
```bash
API_KEY=sk-your-api-key-here
API_BASE=https://www.dmxapi.cn/v1
MODEL=gpt-4-turbo
```

**æ–¹å¼äºŒï¼šå‘½ä»¤è¡Œå‚æ•°**
```bash
--api-key "your-api-key"
--api-base "https://www.dmxapi.cn/v1"
--model "gpt-4-turbo"
```

### 2. å›¾ç‰‡è·¯å¾„ï¼ˆå¿…å¡«ï¼‰

```bash
--image path/to/character_image.png
```

æ”¯æŒæ ¼å¼ï¼šPNG, JPG, JPEG, WEBP

## âš™ï¸ å¯é€‰å‚æ•°

### å†…å®¹é…ç½®

| å‚æ•° | é€‰é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--nsfw-level` | `enabled` / `disabled` | `enabled` | NSFW å†…å®¹çº§åˆ« |
| `--language` | `English` / `ä¸­æ–‡` / `æ—¥æœ¬èª` | `English` | ç”Ÿæˆè¯­è¨€ |

### äººè®¾å®šåˆ¶

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|--------|------|------|
| `--location` | æ–‡æœ¬ | ç©ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ | åœ°ç†ä½ç½® | `"Los Angeles, CA"` |
| `--business-goal` | æ–‡æœ¬ | ç©º | ä¸šåŠ¡ç›®æ ‡ | `"å¸å¼•25-35å²å¯¹BDSMæ–‡åŒ–æ„Ÿå…´è¶£çš„ç”·æ€§ç²‰ä¸"` |
| `--custom-instructions` | æ–‡æœ¬ | ç©º | è‡ªå®šä¹‰æ§åˆ¶è¯ | `"èŒä¸šæ˜¯å¿ƒç†å’¨è¯¢å¸ˆï¼Œæ€§æ ¼æ¸©æŸ”ä½†æœ‰æ”¯é…æ¬²"` |

### è¾“å‡ºé…ç½®

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--persona-output` | æ–‡ä»¶è·¯å¾„ | `personas/generated_persona.json` | äººè®¾ä¿å­˜è·¯å¾„ |
| `--temperature` | æµ®ç‚¹æ•° | `1.0` | LLM æ¸©åº¦å‚æ•°ï¼ˆ0.0-2.0ï¼‰ |

## ğŸ“ å®Œæ•´ç¤ºä¾‹

### æœ€ç®€å•çš„ç”¨æ³•ï¼ˆä½¿ç”¨ .env é…ç½®ï¼‰

```bash
# å‰æï¼šå·²åœ¨ .env ä¸­é…ç½® API_KEY, API_BASE, MODEL
python main.py \
  --generate-persona \
  --image character.png
```

### å®Œæ•´é…ç½®ç¤ºä¾‹

```bash
python main.py \
  --generate-persona \
  --image path/to/character_image.png \
  --persona-output personas/new_character.json \
  --nsfw-level enabled \
  --language English \
  --location "Los Angeles, CA" \
  --business-goal "å¸å¼•25-35å²å¯¹BDSMæ–‡åŒ–æ„Ÿå…´è¶£çš„ç”·æ€§ç²‰ä¸" \
  --custom-instructions "èŒä¸šæ˜¯å¿ƒç†å’¨è¯¢å¸ˆï¼Œæ€§æ ¼æ¸©æŸ”ä½†æœ‰æ”¯é…æ¬²"
```

### ä½¿ç”¨å‘½ä»¤è¡Œä¼ é€’ API å¯†é’¥ï¼ˆä¸ä½¿ç”¨ .envï¼‰

```bash
python main.py \
  --generate-persona \
  --image character.png \
  --api-key "sk-your-api-key" \
  --api-base "https://www.dmxapi.cn/v1" \
  --model "gpt-4-turbo" \
  --persona-output personas/my_character.json
```

### ä¸­æ–‡äººè®¾ç”Ÿæˆ

```bash
python main.py \
  --generate-persona \
  --image character.png \
  --language ä¸­æ–‡ \
  --location "åŒ—äº¬" \
  --business-goal "å¸å¼•20-30å²å–œæ¬¢äºŒæ¬¡å…ƒæ–‡åŒ–çš„ç”·æ€§ç”¨æˆ·" \
  --custom-instructions "æ€§æ ¼æ´»æ³¼å¯çˆ±ï¼Œå–œæ¬¢åŠ¨æ¼«å’Œæ¸¸æˆ"
```

## ğŸ¯ ç”Ÿæˆæµç¨‹ï¼ˆ7ä¸ªé˜¶æ®µï¼‰

ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹7ä¸ªé˜¶æ®µï¼š

1. **ç¬¬1é˜¶æ®µï¼šæ ¸å¿ƒäººè®¾** - åˆ†æå›¾ç‰‡ï¼Œç”ŸæˆåŸºç¡€äººè®¾ä¿¡æ¯
2. **ç¬¬2é˜¶æ®µï¼šæ¨æ–‡ç­–ç•¥** - ç”Ÿæˆæ¨æ–‡ç±»å‹åˆ†å¸ƒç­–ç•¥
3. **ç¬¬3é˜¶æ®µï¼šç¤ºä¾‹æ¨æ–‡** - ç”Ÿæˆ8æ¡é«˜è´¨é‡ç¤ºä¾‹æ¨æ–‡
4. **ç¬¬4é˜¶æ®µï¼šç¤¾äº¤ç½‘ç»œ** - ç”Ÿæˆæœ‹å‹ã€å…³ç³»ã€connections
5. **ç¬¬5é˜¶æ®µï¼šçœŸå®æ„Ÿç³»ç»Ÿ** - æ·»åŠ typosã€flawsã€çœŸå®æ¨¡å¼
6. **ç¬¬6é˜¶æ®µï¼šè§†è§‰æ¡£æ¡ˆ** - æå–outfitsã€posesã€lightingåå¥½
7. **ç¬¬7é˜¶æ®µï¼šçŸ¥è¯†åº“** - ç”ŸæˆçŸ¥è¯†åº“æ¡ç›®

## ğŸ“¤ è¾“å‡ºæ ¼å¼

ç”Ÿæˆçš„äººè®¾ä¿å­˜ä¸º **SillyTavern Character Card V2** æ ¼å¼ï¼š

```json
{
  "spec": "chara_card_v2",
  "spec_version": "2.0",
  "data": {
    "name": "Character Name",
    "description": "äººè®¾æè¿°...",
    "personality": "æ€§æ ¼ç‰¹è´¨...",
    "system_prompt": "ç³»ç»Ÿæç¤ºè¯...",
    "post_history_instructions": "å‘æ¨æŒ‡å¯¼...",
    "extensions": {
      "twitter_persona": {
        "tweet_examples": [...],
        "appearance": {...},
        "tweet_preferences": {...}
      }
    },
    "character_book": {
      "entries": [...]
    }
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å›¾ç‰‡é€‰æ‹©
- âœ… æ¸…æ™°çš„äººç‰©ç…§ç‰‡
- âœ… ä¸»ä½“æ˜ç¡®ï¼ŒèƒŒæ™¯ç®€å•
- âœ… é«˜åˆ†è¾¨ç‡ï¼ˆå»ºè®® 512x512 ä»¥ä¸Šï¼‰
- âŒ é¿å…å¤šäººåˆç…§
- âŒ é¿å…æ¨¡ç³Šæˆ–è¿‡æš—çš„å›¾ç‰‡

### 2. å‚æ•°è®¾ç½®å»ºè®®

**NSFW å†…å®¹ï¼š**
- `enabled` - ç”Ÿæˆæˆäººå†…å®¹äººè®¾ï¼ˆæ¨ç‰¹ã€OnlyFansç­‰ï¼‰
- `disabled` - ç”Ÿæˆæ™®é€šç¤¾äº¤åª’ä½“äººè®¾

**Location å»ºè®®ï¼š**
- ç•™ç©º - è®© AI è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„åœ°ç†ä½ç½®
- å¡«å†™ - å›ºå®šåœ°ç†ä½ç½®ï¼ˆå½±å“å¤©æ°”ã€æ–‡åŒ–èƒŒæ™¯ç­‰ï¼‰

**Business Goalï¼š**
- æ˜ç¡®ç›®æ ‡å—ä¼—ï¼ˆå¹´é¾„ã€æ€§åˆ«ã€å…´è¶£ï¼‰
- è¯´æ˜å˜ç°æ–¹å¼ï¼ˆä»˜è´¹è®¢é˜…ã€å¼•æµç­‰ï¼‰

**Custom Instructionsï¼š**
- èŒä¸šèƒŒæ™¯
- æ€§æ ¼ç‰¹å¾
- ç‰¹æ®Šçˆ±å¥½æˆ–æŠ€èƒ½
- ç¦å¿Œæˆ–é™åˆ¶

### 3. æ¨èçš„æ¨¡å‹

| æ¨¡å‹ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|---------|------|------|
| `gpt-4-turbo` | é«˜è´¨é‡äººè®¾ | ç†è§£èƒ½åŠ›å¼ºï¼Œè¾“å‡ºè´¨é‡é«˜ | é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆæœ¬é«˜ |
| `gpt-4o` | å¹³è¡¡é€‰æ‹© | é€Ÿåº¦å¿«ï¼Œè´¨é‡å¥½ | æˆæœ¬ä¸­ç­‰ |
| `grok-4.1-non-thinking` | å¿«é€Ÿç”Ÿæˆ | é€Ÿåº¦å¿«ï¼Œæˆæœ¬ä½ | è´¨é‡ç•¥é€Š |
| `claude-3-sonnet` | åˆ›æ„äººè®¾ | åˆ›æ„æ€§å¼ºï¼Œç»†èŠ‚ä¸°å¯Œ | éœ€è¦ Anthropic API |

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šæç¤º "éœ€è¦ --image å‚æ•°"
**è§£å†³**ï¼šç¡®ä¿ä½¿ç”¨äº† `--generate-persona` å’Œ `--image` å‚æ•°

### é—®é¢˜ï¼šæç¤º "éœ€è¦æä¾› API_KEY"
**è§£å†³**ï¼šåœ¨ `.env` ä¸­é…ç½® `API_KEY` æˆ–ä½¿ç”¨ `--api-key` å‚æ•°

### é—®é¢˜ï¼šç”Ÿæˆçš„äººè®¾è¯­è¨€ä¸å¯¹
**è§£å†³**ï¼šä½¿ç”¨ `--language` å‚æ•°æŒ‡å®šè¯­è¨€

### é—®é¢˜ï¼šç”Ÿæˆæ—¶é—´è¿‡é•¿
**åŸå› **ï¼š7ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéœ€è¦è°ƒç”¨ LLMï¼Œæ€»è®¡çº¦éœ€è¦ 2-5 åˆ†é’Ÿ
**å»ºè®®**ï¼šä½¿ç”¨æ›´å¿«çš„æ¨¡å‹ï¼ˆå¦‚ gpt-4oï¼‰

## ğŸ“‚ æ–‡ä»¶ä½ç½®

- **é…ç½®æ–‡ä»¶**: `.env`ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
- **è¾“å…¥å›¾ç‰‡**: ä»»æ„ä½ç½®ï¼ˆé€šè¿‡ `--image` æŒ‡å®šï¼‰
- **è¾“å‡ºäººè®¾**: `personas/` ç›®å½•ï¼ˆé€šè¿‡ `--persona-output` æŒ‡å®šï¼‰

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ç¯å¢ƒé…ç½®æŒ‡å—](README.md) - å¦‚ä½•é…ç½® API å¯†é’¥
- [æ¨æ–‡ç”ŸæˆæŒ‡å—](README.md#å¿«é€Ÿå¼€å§‹) - ä½¿ç”¨ç”Ÿæˆçš„äººè®¾ç”Ÿæˆæ¨æ–‡
- [CLAUDE.md](CLAUDE.md) - å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£

---

**å¿«é€Ÿå¼€å§‹ï¼š**
```bash
# 1. é…ç½® .envï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å…¥ API_KEY

# 2. ç”Ÿæˆäººè®¾
python main.py --generate-persona --image character.png

# 3. æŸ¥çœ‹ç”Ÿæˆçš„äººè®¾
cat personas/generated_persona.json
```
